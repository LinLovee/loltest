# Telegram Clone - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è

## üéØ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ —ç—Ç–æ–π –≤–µ—Ä—Å–∏–∏

### 1. ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
**–ü—Ä–æ–±–ª–µ–º–∞:** –§–∞–π–ª—ã –∑–∞–≥—Ä—É–∂–∞–ª–∏—Å—å –ø—É—Å—Ç—ã–º–∏, –Ω–µ —Å–∫–∞—á–∏–≤–∞–ª–∏—Å—å.

**–†–µ—à–µ–Ω–∏–µ:**
- –ò–∑–º–µ–Ω—ë–Ω –ø—É—Ç—å –∫ —Ñ–∞–π–ª–∞–º —Å `/api/messages/files/` –Ω–∞ `/uploads/`
- –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π middleware –ø–µ—Ä–µ–Ω–µ—Å—ë–Ω –≤ `server.js` –ü–ï–†–ï–î API routes
- –î–æ–±–∞–≤–ª–µ–Ω –∞–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ uploads
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

### 2. ‚úÖ –ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ —Ä–∞–±–æ—Ç–∞–ª–∏, –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–ª–∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–µ—Ä–µ–¥–∞—á–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `duration` –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤ UI

### 3. ‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–Ω–æ–ø–∫–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∞.

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –≤—Å–µ API endpoints
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ —Å —Å–æ–∫–µ—Ç–∞–º–∏

### 4. ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–Ω–æ–ø–∫–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∞.

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –≤—Å–µ API endpoints
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ —Å —Å–æ–∫–µ—Ç–∞–º–∏

### 5. ‚úÖ –í–∏–¥–µ–æ-–∫—Ä—É–∂–∫–∏ (–Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è)
**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
- –ó–∞–ø–∏—Å—å –∫—Ä—É–≥–ª–æ–≥–æ –≤–∏–¥–µ–æ —Å –∫–∞–º–µ—Ä—ã
- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞–ø–∏—Å–∏ —Å –ø—Ä–µ–≤—å—é
- –¢–∞–π–º–µ—Ä –∑–∞–ø–∏—Å–∏
- –ö—Ä—É–≥–ª–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# –†–∞—Å–ø–∞–∫—É–π—Ç–µ –∞—Ä—Ö–∏–≤
unzip telegram-clone-final.zip
cd telegram-clone-final

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Backend
cd backend
npm install
# –°–æ–∑–¥–∞–π—Ç–µ .env (—Å–º. .env.example)
npm run dev

# –í –Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ - Frontend
cd frontend
npm install
# –°–æ–∑–¥–∞–π—Ç–µ .env (—Å–º. .env.example)
npm run dev
```

–û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5173

## ‚ö†Ô∏è –í–ê–ñ–ù–û!

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ—á–∏—Ç–∞–π—Ç–µ —Ñ–∞–π–ª `–ò–ù–°–¢–†–£–ö–¶–ò–Ø.md`** –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—é –ø—Ä–æ–±–ª–µ–º!

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
chmod +x test-api.sh
./test-api.sh
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç:
- –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–µ—Ä–∞
- –†–∞–±–æ—Ç—É —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ó–∞–≥—Ä—É–∑–∫—É —Ñ–∞–π–ª–æ–≤

## üìù –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### Backend (.env)
```env
PORT=3000
DATABASE_URL=postgresql://user:password@localhost:5432/telegram_clone
JWT_SECRET=your-secret-key
CLIENT_URL=http://localhost:5173
```

### Frontend (.env)
```env
VITE_API_URL=http://localhost:3000
VITE_SOCKET_URL=http://localhost:3000
```

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –õ–æ–≥–∏ Backend
–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –≤—ã –¥–æ–ª–∂–Ω—ã –≤–∏–¥–µ—Ç—å:
```
Server running on port 3000
üìÅ Uploads path: /–ø—É—Ç—å/–∫/–ø—Ä–æ–µ–∫—Ç—É/backend/uploads
Database initialized successfully
```

–ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–∞–π–ª–æ–≤:
```
üì§ Upload request: { receiverId: 2, messageType: 'image', ... }
üíæ Saving to DB: { fileUrl: '/uploads/xxxxx.jpg', ... }
‚úÖ File uploaded successfully
```

–ü—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏:
```
‚úèÔ∏è Edit message request: { messageId: '5', userId: 1, ... }
‚úÖ Message edited successfully
```

–ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏:
```
üóëÔ∏è Delete message request: { messageId: '5', userId: 1 }
‚úÖ Message deleted successfully
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤

–ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

```bash
# –§–∞–π–ª –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ –ø–∞–ø–∫–µ uploads
ls -la backend/uploads/

# –§–∞–π–ª –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ URL
curl http://localhost:3000/uploads/FILENAME
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ë–î

```sql
-- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ file_url –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
SELECT id, message_type, file_url, deleted, edited 
FROM messages 
ORDER BY id DESC 
LIMIT 5;

-- file_url –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∏–¥–∞: /uploads/1234567890-123456789.jpg
-- deleted –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å false –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
-- edited –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å true –¥–ª—è –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
telegram-clone-final/
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ uploads/           # –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (—Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îÇ   ‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ messages.js    # ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ users.js
‚îÇ   ‚îú‚îÄ‚îÄ middleware/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ auth.js
‚îÇ   ‚îú‚îÄ‚îÄ server.js          # ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ db.js
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îî‚îÄ‚îÄ src/
‚îÇ       ‚îú‚îÄ‚îÄ components/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ ChatWindow.jsx  # ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ       ‚îú‚îÄ‚îÄ utils/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ api.js
‚îÇ       ‚îî‚îÄ‚îÄ index.css      # ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ: —Å—Ç–∏–ª–∏ –≤–∏–¥–µ–æ-–∫—Ä—É–∂–∫–æ–≤
‚îú‚îÄ‚îÄ –ò–ù–°–¢–†–£–ö–¶–ò–Ø.md          # üìñ –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
‚îú‚îÄ‚îÄ test-api.sh            # üß™ –°–∫—Ä–∏–ø—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚îî‚îÄ‚îÄ README.md              # üìÑ –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## üé¨ –§—É–Ω–∫—Ü–∏–∏

- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- ‚úÖ –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–≤–æ–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ —Å–≤–æ–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π
- ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ –≤–∏–¥–µ–æ
- ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–∞–π–ª–æ–≤
- ‚úÖ –ó–∞–ø–∏—Å—å –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚úÖ –ó–∞–ø–∏—Å—å –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤–∏–¥–µ–æ-–∫—Ä—É–∂–∫–æ–≤ (–∫–∞–∫ –≤ Telegram)
- ‚úÖ –°—Ç–∞—Ç—É—Å "–ø–µ—á–∞—Ç–∞–µ—Ç..."
- ‚úÖ –°—Ç–∞—Ç—É—Å "–≤ —Å–µ—Ç–∏"/"–Ω–µ –≤ —Å–µ—Ç–∏"
- ‚úÖ –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚úÖ Real-time –æ–±–º–µ–Ω —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ —á–µ—Ä–µ–∑ WebSocket

## üîç –ü—Ä–æ–±–ª–µ–º—ã –æ—Å—Ç–∞–ª–∏—Å—å?

1. –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ `–ò–ù–°–¢–†–£–ö–¶–ò–Ø.md`
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `./test-api.sh`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ backend
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Network tab –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –∑–∞–ø—Ä–æ—Å–æ–≤

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ:

1. –í—ã–≤–æ–¥ –∫–æ–Ω—Å–æ–ª–∏ backend –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–Ω–æ–º –¥–µ–π—Å—Ç–≤–∏–∏
2. –°–∫—Ä–∏–Ω—à–æ—Ç –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ (F12 ‚Üí Console)
3. –°–∫—Ä–∏–Ω—à–æ—Ç Network tab (F12 ‚Üí Network)
4. –†–µ–∑—É–ª—å—Ç–∞—Ç: `ls -la backend/uploads/`
5. –†–µ–∑—É–ª—å—Ç–∞—Ç: `./test-api.sh`

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

–°–ø–∞—Å–∏–±–æ –∑–∞ —Ç–µ—Ä–ø–µ–Ω–∏–µ! –≠—Ç–∞ –≤–µ—Ä—Å–∏—è –¥–æ–ª–∂–Ω–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞—Ç—å.
