# üîß –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ó–ê–ì–†–£–ó–ö–ò –§–ê–ô–õ–û–í - RENDER.COM

## üêõ –ü—Ä–æ–±–ª–µ–º–∞

–§–∞–π–ª—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –Ω–∞ backend, –Ω–æ –±—Ä–∞—É–∑–µ—Ä –∏—â–µ—Ç –∏—Ö –Ω–∞ frontend:
- ‚ùå –ò—â–µ—Ç: `https://telegram-frontend-ctil.onrender.com/uploads/file.png`
- ‚úÖ –ù—É–∂–Ω–æ: `https://telegram-backend-ucf7.onrender.com/uploads/file.png`

## ‚úÖ –†–µ—à–µ–Ω–∏–µ: BACKEND_URL

–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `BACKEND_URL` –Ω–∞ Render.com.

## üìã –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è Render.com

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ Dashboard
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://dashboard.render.com
2. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à **Backend** —Å–µ—Ä–≤–∏—Å (telegram-backend-ucf7)
3. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –Ω–µ–≥–æ

### –®–∞–≥ 2: –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è
1. –í –ª–µ–≤–æ–º –º–µ–Ω—é –≤—ã–±–µ—Ä–∏—Ç–µ **"Environment"**
2. –ù–∞–∂–º–∏—Ç–µ **"Add Environment Variable"**
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ:
   - **Key:** `BACKEND_URL`
   - **Value:** `https://telegram-backend-ucf7.onrender.com`
   
   ‚ö†Ô∏è **–í–ê–ñ–ù–û:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –í–ê–® URL backend (–±–µ–∑ —Å–ª—ç—à–∞ –≤ –∫–æ–Ω—Ü–µ!)

4. –ù–∞–∂–º–∏—Ç–µ **"Save Changes"**

### –®–∞–≥ 3: –ó–∞–¥–µ–ø–ª–æ–π—Ç–µ –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π –∫–æ–¥

#### –°–ø–æ—Å–æ–± –ê: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)
```bash
# –í –ª–æ–∫–∞–ª—å–Ω–æ–π –ø–∞–ø–∫–µ —Å –ø—Ä–æ–µ–∫—Ç–æ–º
git add .
git commit -m "Fix: Absolute URLs for uploaded files"
git push
```

Render.com –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç.

#### –°–ø–æ—Å–æ–± –ë: –†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π
1. –í Render.com Dashboard –æ—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à backend —Å–µ—Ä–≤–∏—Å
2. –ù–∞–∂–º–∏—Ç–µ **"Manual Deploy"** ‚Üí **"Deploy latest commit"**

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è:

**–í –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
```
üìÅ Uploads path: /opt/render/project/src/backend/uploads
Server running on port 3000
```

**–ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–∞–π–ª–∞:**
```
üì§ Upload request: { ... }
üíæ Saving to DB: { 
  fileUrl: 'https://telegram-backend-ucf7.onrender.com/uploads/xxxxx.png',
  messageType: 'image' 
}
‚úÖ File uploaded successfully
```

**–¢–µ–ø–µ—Ä—å fileUrl –ø–æ–ª–Ω—ã–π, –∞ –Ω–µ `/uploads/xxx`!**

### –®–∞–≥ 5: –¢–µ—Å—Ç

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–æ—Ç–æ
3. –§–æ—Ç–æ –¥–æ–ª–∂–Ω–æ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å—Å—è
4. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12) ‚Üí Network
5. –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–æ—Ç–æ URL –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å:
   ```
   https://telegram-backend-ucf7.onrender.com/uploads/xxxxx.png
   ```

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –Ω–∞ Render.com –≤ —Ä–∞–∑–¥–µ–ª–µ Environment —É –≤–∞—Å –µ—Å—Ç—å:

```
DATABASE_URL=postgresql://...
JWT_SECRET=–≤–∞—à-—Å–µ–∫—Ä–µ—Ç
CLIENT_URL=https://telegram-frontend-ctil.onrender.com
PORT=3000
BACKEND_URL=https://telegram-backend-ucf7.onrender.com
```

## üìù –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

–í —Ñ–∞–π–ª–µ `backend/.env`:
```env
DATABASE_URL=postgresql://user:password@localhost:5432/telegram_clone
JWT_SECRET=your-secret-key
CLIENT_URL=http://localhost:5173
PORT=3000
BACKEND_URL=http://localhost:3000
```

## ‚ùå –ï—Å–ª–∏ –≤—Å—ë –µ—â—ë –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–æ–±–ª–µ–º–∞: –§–∞–π–ª—ã –≤—Å—ë —Ä–∞–≤–Ω–æ 404

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**

1. **BACKEND_URL –¥–æ–±–∞–≤–ª–µ–Ω?**
   - Render.com ‚Üí –≤–∞—à backend —Å–µ—Ä–≤–∏—Å ‚Üí Environment
   - –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `BACKEND_URL`

2. **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π URL?**
   - –î–æ–ª–∂–µ–Ω –±—ã—Ç—å `https://–í–ê–®-backend.onrender.com`
   - –ë–ï–ó —Å–ª—ç—à–∞ –≤ –∫–æ–Ω—Ü–µ!
   - –ë–ï–ó `/uploads` –≤ –∫–æ–Ω—Ü–µ!

3. **–ó–∞–¥–µ–ø–ª–æ–∏–ª–∏ –Ω–æ–≤—ã–π –∫–æ–¥?**
   - –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –¥–µ–ø–ª–æ—è
   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –ü–û–°–õ–ï —Ç–æ–≥–æ –∫–∞–∫ –≤—ã –¥–æ–±–∞–≤–∏–ª–∏ BACKEND_URL

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
   ```
   üíæ Saving to DB: { fileUrl: 'https://...' }
   ```
   –ï—Å–ª–∏ —Ç–∞–º `/uploads/xxx` - –∑–Ω–∞—á–∏—Ç –∫–æ–¥ —Å—Ç–∞—Ä—ã–π –∏–ª–∏ BACKEND_URL –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω

### –ü—Ä–æ–±–ª–µ–º–∞: –°—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç

–°—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã –≤ –±–∞–∑–µ –∏–º–µ—é—Ç –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å `/uploads/xxx`.

**–†–µ—à–µ–Ω–∏–µ 1: –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**
–ü—Ä–æ—Å—Ç–æ –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª—ã –∑–∞–Ω–æ–≤–æ - –æ–Ω–∏ –±—É–¥—É—Ç —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º URL.

**–†–µ—à–µ–Ω–∏–µ 2: –û–±–Ω–æ–≤–∏—Ç—å –≤ –±–∞–∑–µ (–ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π)**
```sql
UPDATE messages 
SET file_url = CONCAT('https://telegram-backend-ucf7.onrender.com', file_url)
WHERE file_url LIKE '/uploads/%';
```

‚ö†Ô∏è –ó–∞–º–µ–Ω–∏—Ç–µ URL –Ω–∞ –≤–∞—à backend URL!

## üéØ –ò—Ç–æ–≥

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ `BACKEND_URL`:
- ‚úÖ –§–æ—Ç–æ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
- ‚úÖ –í–∏–¥–µ–æ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥—è—Ç—Å—è
- ‚úÖ –ì–æ–ª–æ—Å–æ–≤—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞—é—Ç—Å—è
- ‚úÖ –í–∏–¥–µ–æ-–∫—Ä—É–∂–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –§–∞–π–ª—ã —Å–∫–∞—á–∏–≤–∞—é—Ç—Å—è

## üìû –í—Å—ë –µ—â—ë –ø—Ä–æ–±–ª–µ–º—ã?

–ü—Ä–∏—à–ª–∏—Ç–µ:
1. –°–∫—Ä–∏–Ω—à–æ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Render.com (—Ä–∞–∑–¥–µ–ª Environment)
2. –õ–æ–≥–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–∞–π–ª–∞ (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å—Ç—Ä–æ–∫–∞ "üíæ Saving to DB")
3. –°–∫—Ä–∏–Ω—à–æ—Ç Network tab (F12) –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª
4. –í–∞—à URL backend (–Ω–∞–ø—Ä–∏–º–µ—Ä, telegram-backend-ucf7.onrender.com)

---

–ü–æ—Å–ª–µ —ç—Ç–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –í–°–Å –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å! üéâ
